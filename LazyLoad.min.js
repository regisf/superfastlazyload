/* LazyLoad - a really fast lazy loading images
 * Copyright (c) 2013 RÃ©gis FLORET
 * Under MIT license: see https://github.com/regisf/superfastlazyload/blob/master/LICENSE
 */
var LazyLoad = (function(){function e(b,a){this.a=[];this.d=null;void 0===b&&(b="data-lazyload");void 0===a&&(a=!0);this.f(b,!!a)}e.prototype.f=function(b,a){this.g();!0===this.e&&!0===a&&(b="["+b+"]");this.d=b;document.addEventListener?document.addEventListener("scroll",this.b.bind(this),!1):document.attachEvent("onscroll",this.b.bind(this));this.refresh()};e.prototype.g=function(){this.e=!!document.querySelectorAll;this.e||(document.querySelectorAll=function(b){for(var a=document.getElementsByTagName("*"),c=[], d=0;d<a.length;d++)a[d].getAttribute(b)&&c.push(a[d]);return c})};e.prototype.refresh=function(){var b=document.querySelectorAll(this.d);this.a=[];for(var a=0,c=b.length;a<c;a++)this.a.push({top:b[a].getBoundingClientRect().top,c:b[a],visible:!1});this.b()};e.prototype.b=function(){for(var b=window.pageYOffset||document.documentElement.scrollTop,a=b+window.innerHeight,c=null,d=0,e=this.a.length;d<e;d++)if(c=this.a[d],!0!==c.visible){if(c.top>a)break;c.top>b&&c.top<=a&&(c.c.setAttribute("src",c.c.getAttribute("data-src")), c.c.onerror=function(){c.visible=!1},c.visible=!0)}};return e})();